{"version":3,"file":"commonHelpers2.js","sources":["../src/js/serhii.js","../src/js/valentin.js"],"sourcesContent":["// const ollProducts = [\n//   {\n//     _id: '640c2dd963a319ea671e3814',\n//     name: 'Almonds',\n//     img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e3814.png',\n//     category: 'Pantry_Items',\n//     price: 8.99,\n//     size: '16 oz bag',\n//     is10PercentOff: false,\n//     popularity: 552,\n//   },\n//   {\n//     _id: '640c2dd963a319ea671e385e',\n//     name: 'Ancho Chillies',\n//     img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e385e.png',\n//     category: 'Pantry_Items',\n//     price: 4.99,\n//     size: '100g',\n//     is10PercentOff: false,\n//     popularity: 632,\n//   },\n// ];\n// function writeLocalStorage() {\n//   localStorage.setItem('ollProducts', JSON.stringify(ollProducts));\n// }\n// writeLocalStorage();\n\nimport axios from 'axios';\n\nlet pageOfRender = 1;\nlet limitPage = 9;\nlet totalPages = 60;\n\nconst pagesBtnLeft = document.querySelector('.pages-btn-left');\nconst pagesBtnRight = document.querySelector('.pages-btn-right');\nconst numberOfPage = document.querySelector('.pages-list');\npagesBtnLeft.addEventListener('click', onClickLeft);\npagesBtnRight.addEventListener('click', onClickRight);\nnumberOfPage.addEventListener('click', onClickNumber);\n\nfunction onClickLeft(event) {\n  if (pageOfRender === 1) {\n    return;\n  }\n  pageOfRender--;\n  console.log(pageOfRender);\n  mainResponse();\n}\nfunction onClickRight(event) {\n  if (pageOfRender >= totalPages) {\n    return;\n  }\n  pageOfRender++;\n  console.log(pageOfRender);\n  mainResponse();\n}\nfunction onClickNumber(event) {\n  pageOfRender = Number(event.target.textContent);\n  if (!pageOfRender) {\n    return;\n  }\n  console.log(pageOfRender);\n  mainResponse();\n}\n//----------------------------------------------- MAIN RESPONSE\n\nasync function mainResponse() {\n  try {\n    const response = await axios.get(\n      `https://food-boutique.b.goit.study/api/products?page=${pageOfRender}&limit=${limitPage}`\n    );\n    // console.log(response);\n    renderMainCards(response.data.results);\n    // totalPages = response.data.totalPages;\n    renderNumberSlider(totalPages);\n  } catch (error) {\n    console.error(error);\n  }\n}\nmainResponse();\nconsole.log(totalPages);\n// --------------------------------------------------DISCOUNT RESPONSE\nasync function responseDiscount() {\n  try {\n    const response = await axios.get(\n      'https://food-boutique.b.goit.study/api/products/discount'\n    );\n    // console.log(response);\n    function getRandomNumber() {\n      return Math.floor(Math.random() * 9);\n    }\n    const randomNumber = getRandomNumber();\n\n    const end = randomNumber + 2;\n\n    const array = response.data.slice(randomNumber, end);\n    renderDiscountProducts(array);\n  } catch (error) {\n    console.error(error);\n  }\n}\nresponseDiscount();\n//---------------------------------------------POPULAR PRODUCTS\nasync function responsePopular() {\n  try {\n    const response = await axios.get(\n      'https://food-boutique.b.goit.study/api/products/popular?limit=5'\n    );\n    console.log(response.data[0]._id);\n    renderPopularProducts(response.data);\n  } catch (error) {\n    console.error(error);\n  }\n}\nresponsePopular();\n\nconst listOfMainProducts = document.querySelector('.basic-list');\n\n// const savedSettings = localStorage.getItem('ollProducts');\n// const parsedSettings = JSON.parse(savedSettings);\n// console.log(parsedSettings);\n\n//----------------------------------------------RENDER MAIN CARDS-------------------------------------------------//\nfunction renderMainCards(datas) {\n  const murcap = datas\n    .map(\n      item =>\n        `<li class=\"basic-item\" id=\"${item._id}\">\n            <div class=\"basic-image-wrapper\">\n              <img\n                src=\"${item.img}\"\n                alt=\"${item.name}\"\n              />\n            </div>\n            <h3 class=\"basic-name\">${item.name}</h3>\n            <div class=\"basic-info-wrapper\">\n              <p class=\"basic-info\">\n                Category:<span class=\"category\">${item.category}</span>Size:<span\n                  class=\"size\"\n                  >${item.size}</span\n                >\n              </p>\n              <p class=\"basic-info\">\n                Popularity:<span class=\"popularity\">${item.popularity}</span>\n              </p>\n            </div>\n            <div class=\"basic-last-info\">\n              <span class=\"basic-price\">$${item.price}</span>\n              <button class=\"basic-btn\" type=\"button\" id=\"${item._id}\">\n                <svg class=\"basic-btn-icon\" width=\"18\" height=\"18\">\n                  <use href=\"./images/icons.svg#icon-basket\"></use>\n                </svg>\n              </button>\n            </div>\n          </li>`\n    )\n    .join('');\n  // console.log(murcap);\n\n  listOfMainProducts.innerHTML = murcap;\n}\n// renderMainCards(parsedSettings);\n\n//----------------------------------------------RENDER POPULAR LIST-------------------------------------------------//\nconst popularList = document.querySelector('.popular-list');\nfunction renderPopularProducts(datas) {\n  const murcap = datas\n    .map(\n      item => ` <li class=\"popular-item\" id=\"${item._id}\">\n            <div class=\"popular-image-wrapper\">\n              <img src=\"${item.img}\" alt=\"${item.name}\" />\n            </div>\n            <div class=\"popular-info-wrapper\">\n              <div class=\"popular-name-wrapper\">\n                <h3 class=\"popular-name\">${item.name}</h3>\n                <button class=\"popular-item-btn\" type=\"button\" aria-label=\"add to basket\" id=\"${item._id}\">\n                  <svg class=\"popular-item-btn-icon\" width=\"12\" height=\"12\">\n                    <use href=\"./images/icons.svg#icon-basket\"></use>\n                  </svg>\n                </button>\n              </div>\n              <p class=\"popular-info\">\n                Category:<span class=\"category\">${item.category}</span>\n              </p>\n              <p class=\"popular-info\">\n                Size:<span class=\"size\">${item.size}</span>Popularity:<span class=\"popularity\">${item.popularity}</span>\n              </p>\n            </div>\n          </li>`\n    )\n    .join('');\n\n  popularList.innerHTML = murcap;\n}\n// renderPopularProducts(parsedSettings);\n//----------------------------------------------RENDER DISCOUNT CARDS-------------------------------------------------//\nconst discountListProduct = document.querySelector('.discount-list');\nfunction renderDiscountProducts(datas) {\n  const murcap = datas\n    .map(\n      item => `<li class=\"discount-item\" id=\"${item._id}\">\n            <div class=\"discount-label\"> \n            <img src=\"./images/discount.jpg\" alt=\"discount label\" class=\"discount-img\">             \n            </div>\n            <div class=\"discount-image-wrapper\">\n              <img src=\"${item.img}\" alt=\"${item.name}\" />\n            </div>\n            <div class=\"discount-info-wrapper\">\n              <h3 class=\"discount-item-name\">${item.name}</h3>\n              <span class=\"discount-item-price\">$${item.price}</span>\n              <button class=\"basic-btn\" type=\"button\" aria-label=\"icon-basket\" id=\"${item._id}\">\n                <svg class=\"basic-btn-icon\" width=\"18\" height=\"18\">\n                  <use href=\"./images/icons.svg#icon-basket\"></use>\n                </svg>\n              </button>\n            </div>\n          </li>`\n    )\n    .join('');\n  discountListProduct.innerHTML = murcap;\n}\n// renderDiscountProducts(parsedSettings);\n\n//-----------------------------------------------------------PAGINATION----------------------------------------//\n// const numberOfPage = document.querySelector('.pages-list');\nfunction renderNumberSlider(numberpages) {\n  let pagNum = [];\n  for (let index = 1; index <= numberpages; index++) {\n    pagNum.push(index);\n  }\n  if (numberpages <= 5) {\n    const murcap = pagNum\n      .map(item => `<li class=\"pages-item\">${item}</li>`)\n      .join('');\n    console.log(murcap);\n\n    numberOfPage.innerHTML = murcap;\n  } else if (numberpages > 5) {\n    if (pageOfRender <= 2 || pageOfRender > numberpages - 2) {\n      const numToDel = numberpages - 4;\n      pagNum.splice(2, numToDel, '<li class=\"pages-item-points\">...</li>');\n      const murcap = pagNum\n        .map(item => `<li class=\"pages-item\">${item}</li>`)\n        .join('');\n      console.log(murcap);\n      numberOfPage.innerHTML = murcap;\n    } else if (pageOfRender > 2) {\n      const numToDel = numberpages - 2;\n      // const murcapIncide = `${pageOfRender - 1},${pageOfRender},${\n      //   pageOfRender + 1\n      // },`;\n      pagNum.splice(\n        1,\n        numToDel,\n        '...',\n        pageOfRender - 1,\n        pageOfRender,\n        pageOfRender + 1,\n        '...'\n      );\n      const murcap = pagNum\n        .map(item => `<li class=\"pages-item\">${item}</li>`)\n        .join('');\n      numberOfPage.innerHTML = murcap;\n    }\n  }\n  // console.log(pagNum);\n}\n// renderNumberSlider(totalPages);\n\n//----------------------------------------------EXPORT------------------------------------------------------\n// export { renderMainCards, renderPopularProducts, renderDiscountProducts };\n","import axios from 'axios';\n\nconst modal = document.querySelector('.backdrop');\nconst modalWindow = document.querySelector('.modal_window');\nconst productList = document.querySelector('.basic-list');\nconst popularList = document.querySelector('.popular-list');\nconst discountList = document.querySelector('.discount-list');\n\nasync function responseById(id) {\n  try {\n    const response = await axios.get(\n      `https://food-boutique.b.goit.study/api/products/${id}`\n    );\n\n    // Записати дані в локальне сховище\n    // localStorage.setItem(\n    //   'productsById',\n    //   JSON.stringify(response.data.results)\n    // );\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n\nproductList.addEventListener('click', handleItemClick);\npopularList.addEventListener('click', handleItemClick);\ndiscountList.addEventListener('click', handleItemClick);\n\nasync function handleItemClick(event) {\n  const clickedProduct =\n    event.target.closest('.basic-item') ||\n    event.target.closest('.popular-item') ||\n    event.target.closest('.discount-item');\n  if (!clickedProduct) return;\n\n  const productId = clickedProduct.id;\n  try {\n    const selectedProduct = await responseById(productId);\n    console.log(selectedProduct);\n\n    if (selectedProduct) {\n      renderModalData(selectedProduct);\n\n      modal.style.display = 'block';\n      modal.addEventListener('click', closeOnOutsideClick);\n      document.addEventListener('keydown', closeOnEsc);\n\n      const closeModalButton = document.querySelector('.close_button');\n      closeModalButton.addEventListener('click', closeModal);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\nfunction renderModalData(product) {\n  const markup = `<button class=\"close_button\" type=\"button\" aria-label=\"Close\">\n      <svg class=\"close-btn-icon\" width=\"24\" height=\"24\">\n        <use href=\"./images/icons.svg#icon-close\"></use>\n      </svg>\n    </button>\n    <div class=\"item_image\">\n    <img src=\"${product.img}\" alt=\"${product.name}\" /></div>\n    <div class=\"item_description\">\n      <h2 class=\"item_name\">${product.name}</h2>\n      <ul class=\"product_params\">\n        <li class=\"item_params\">\n          <p>Category: <span class=\"params_type\">${product.category}</span></p>\n        </li>\n        <li class=\"item_params\">\n          <p>Size:  <span class=\"params_type\">${product.size}</span></p>\n        </li>\n        <li class=\"item_params\">\n          <p>Popularity:  <span class=\"params_type\">${product.popularity}</span></p>\n        </li>\n      </ul>\n      <p class=\"description\">${product.desc}</p>\n    </div>\n    <p class=\"item_price\">${product.price}</p>\n    <button class=\"added_button\" type=\"submit\" aria-label=\"Item added to cart\">\n      Added to\n      <svg width=\"18\" height=\"18\" class=\"icon-cart\">\n        <use href=\"./images/icons.svg#icon-basket\"></use>\n      </svg>\n    </button>\n    <button\n      class=\"add_button\"\n      type=\"submit\"\n      id=\"${product._id}\"\n      aria-label=\"Add item to cart\"\n    >\n      Add to\n      <svg width=\"18\" height=\"18\" class=\"icon-cart\">\n        <use href=\"./images/icons.svg#icon-basket\"></use>\n      </svg>\n    </button>`;\n  modalWindow.innerHTML = markup;\n}\n\nfunction closeOnOutsideClick(event) {\n  if (event.target === modal) {\n    closeModal();\n  }\n}\nfunction closeOnEsc(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction closeModal() {\n  modal.style.display = 'none';\n  modal.removeEventListener('click', closeOnOutsideClick);\n  document.removeEventListener('keydown', closeOnEsc);\n}\n"],"names":["pageOfRender","limitPage","totalPages","pagesBtnLeft","pagesBtnRight","numberOfPage","onClickLeft","onClickRight","onClickNumber","event","mainResponse","response","axios","renderMainCards","renderNumberSlider","error","responseDiscount","getRandomNumber","randomNumber","end","array","renderDiscountProducts","responsePopular","renderPopularProducts","listOfMainProducts","datas","murcap","item","popularList","discountListProduct","numberpages","pagNum","index","numToDel","modal","modalWindow","productList","discountList","responseById","id","handleItemClick","clickedProduct","productId","selectedProduct","renderModalData","closeOnOutsideClick","closeOnEsc","closeModal","product","markup"],"mappings":"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"}