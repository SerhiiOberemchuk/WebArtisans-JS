{"version":3,"file":"commonHelpers2.js","sources":["../src/js/alex.js","../src/js/serhii.js","../src/js/oleksii.js","../src/js/valentin.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst footerSubscriptionForm = document.querySelector('.footer-email-form');\r\nfooterSubscriptionForm.addEventListener('submit', onFooterFormSubmit);\r\n\r\nfunction onFooterFormSubmit(event) {\r\n  event.preventDefault();\r\n  console.log(footerSubscriptionForm.elements[0].value);\r\n\r\n  axios.post('https://food-boutique.b.goit.study/api/subscription', {\r\n    email: footerSubscriptionForm.elements[0].value,\r\n  });\r\n}\r\n","import { getBasicProducts } from './oleksii.js';\n// const ollProducts = [\n//   {\n//     _id: '640c2dd963a319ea671e3814',\n//     name: 'Almonds',\n//     img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e3814.png',\n//     category: 'Pantry_Items',\n//     price: 8.99,\n//     size: '16 oz bag',\n//     is10PercentOff: false,\n//     popularity: 552,\n//   },\n//   {\n//     _id: '640c2dd963a319ea671e385e',\n//     name: 'Ancho Chillies',\n//     img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e385e.png',\n//     category: 'Pantry_Items',\n//     price: 4.99,\n//     size: '100g',\n//     is10PercentOff: false,\n//     popularity: 632,\n//   },\n// ];\n// function writeLocalStorage() {\n//   localStorage.setItem('ollProducts', JSON.stringify(ollProducts));\n// }\n// writeLocalStorage();\n\n// import axios from 'axios';\n\nlet pageOfRender = 1;\n// let limitPage = 9;\nlet totalPages = 60;\n\nconst pagesBtnLeft = document.querySelector('.pages-btn-left');\nconst pagesBtnRight = document.querySelector('.pages-btn-right');\nconst numberOfPage = document.querySelector('.pages-list');\npagesBtnLeft.addEventListener('click', onClickLeft);\npagesBtnRight.addEventListener('click', onClickRight);\nnumberOfPage.addEventListener('click', onClickNumber);\n\nfunction onClickLeft(event) {\n  if (pageOfRender === 1) {\n    return;\n  }\n  pageOfRender--;\n  // console.log(pageOfRender);\n  // mainResponse();\n  getBasicProducts();\n}\nfunction onClickRight(event) {\n  if (pageOfRender >= totalPages) {\n    return;\n  }\n  pageOfRender++;\n  // console.log(pageOfRender);\n  // mainResponse();\n  getBasicProducts();\n}\nfunction onClickNumber(event) {\n  pageOfRender = Number(event.target.textContent);\n  if (!pageOfRender) {\n    return;\n  }\n  // console.log(pageOfRender);\n  // mainResponse();\n  getBasicProducts();\n}\n//----------------------------------------------- MAIN RESPONSE\n\n// async function mainResponse() {\n//   try {\n//     const response = await axios.get(\n//       `https://food-boutique.b.goit.study/api/products?page=${pageOfRender}&limit=${limitPage}`\n//     );\n//     // console.log(response);\n//     // renderMainCards(response.data.results);\n//     // totalPages = response.data.totalPages;\n//     renderNumberSlider(totalPages);\n//   } catch (error) {\n//     console.error(error);\n//   }\n// }\n// mainResponse();\n// console.log(totalPages);\n// --------------------------------------------------DISCOUNT RESPONSE\n// async function responseDiscount() {\n//   try {\n//     const response = await axios.get(\n//       'https://food-boutique.b.goit.study/api/products/discount'\n//     );\n//     // console.log(response);\n//     function getRandomNumber() {\n//       return Math.floor(Math.random() * 9);\n//     }\n//     const randomNumber = getRandomNumber();\n\n//     const end = randomNumber + 2;\n\n//     const array = response.data.slice(randomNumber, end);\n//     renderDiscountProducts(array);\n//   } catch (error) {\n//     console.error(error);\n//   }\n// }\n// responseDiscount();\n//---------------------------------------------POPULAR PRODUCTS\n// async function responsePopular() {\n//   try {\n//     const response = await axios.get(\n//       'https://food-boutique.b.goit.study/api/products/popular?limit=5'\n//     );\n//     // console.log(response.data[0]._id);\n//     // renderPopularProducts(response.data);\n//   } catch (error) {\n//     console.error(error);\n//   }\n// }\n// responsePopular();\n\n// const listOfMainProducts = document.querySelector('.basic-list');\n\n// const savedSettings = localStorage.getItem('ollProducts');\n// const parsedSettings = JSON.parse(savedSettings);\n// console.log(parsedSettings);\n\n//----------------------------------------------RENDER MAIN CARDS-------------------------------------------------//\n\n// function renderMainCards(datas) {\n//   const murcap = datas\n//     .map(\n//       item =>\n//         `<li class=\"basic-item\" id=\"${item._id}\">\n//             <div class=\"basic-image-wrapper\">\n//               <img\n//                 src=\"${item.img}\"\n//                 alt=\"${item.name}\"\n//               />\n//             </div>\n//             <h3 class=\"basic-name\">${item.name}</h3>\n//             <div class=\"basic-info-wrapper\">\n//               <p class=\"basic-info\">\n//                 Category:<span class=\"category\">${item.category}</span>Size:<span\n//                   class=\"size\"\n//                   >${item.size}</span\n//                 >\n//               </p>\n//               <p class=\"basic-info\">\n//                 Popularity:<span class=\"popularity\">${item.popularity}</span>\n//               </p>\n//             </div>\n//             <div class=\"basic-last-info\">\n//               <span class=\"basic-price\">$${item.price}</span>\n//               <button class=\"basic-btn\" type=\"button\" id=\"${item._id}\">\n//                 <svg class=\"basic-btn-icon\" width=\"18\" height=\"18\">\n//                   <use href=\"./images/icons.svg#icon-basket\"></use>\n//                 </svg>\n//               </button>\n//             </div>\n//           </li>`\n//     )\n//     .join('');\n// console.log(murcap);\n\n//   listOfMainProducts.innerHTML = murcap;\n// }\n// renderMainCards(parsedSettings);\n\n//----------------------------------------------RENDER POPULAR LIST-------------------------------------------------//\n\n// const popularList = document.querySelector('.popular-list');\n// function renderPopularProducts(datas) {\n//   const murcap = datas\n//     .map(\n//       item => ` <li class=\"popular-item\" id=\"${item._id}\">\n//             <div class=\"popular-image-wrapper\">\n//               <img src=\"${item.img}\" alt=\"${item.name}\" />\n//             </div>\n//             <div class=\"popular-info-wrapper\">\n//               <div class=\"popular-name-wrapper\">\n//                 <h3 class=\"popular-name\">${item.name}</h3>\n//                 <button class=\"popular-item-btn\" type=\"button\" aria-label=\"add to basket\" id=\"${item._id}\">\n//                   <svg class=\"popular-item-btn-icon\" width=\"12\" height=\"12\">\n//                     <use href=\"./images/icons.svg#icon-basket\"></use>\n//                   </svg>\n//                 </button>\n//               </div>\n//               <p class=\"popular-info\">\n//                 Category:<span class=\"category\">${item.category}</span>\n//               </p>\n//               <p class=\"popular-info\">\n//                 Size:<span class=\"size\">${item.size}</span>Popularity:<span class=\"popularity\">${item.popularity}</span>\n//               </p>\n//             </div>\n//           </li>`\n//     )\n//     .join('');\n\n\n//   popularList.innerHTML = murcap;\n// }\n// renderPopularProducts(parsedSettings);\n//----------------------------------------------RENDER DISCOUNT CARDS-------------------------------------------------//\n\n// const discountListProduct = document.querySelector('.discount-list');\n// function renderDiscountProducts(datas) {\n//   const murcap = datas\n//     .map(\n//       item => `<li class=\"discount-item\" id=\"${item._id}\">\n//             <div class=\"discount-label\">\n//             <img src=\"./images/discount.jpg\" alt=\"discount label\" class=\"discount-img\">\n//             </div>\n//             <div class=\"discount-image-wrapper\">\n//               <img src=\"${item.img}\" alt=\"${item.name}\" />\n//             </div>\n//             <div class=\"discount-info-wrapper\">\n//               <h3 class=\"discount-item-name\">${item.name}</h3>\n//               <span class=\"discount-item-price\">$${item.price}</span>\n//               <button class=\"basic-btn\" type=\"button\" aria-label=\"icon-basket\" id=\"${item._id}\">\n//                 <svg class=\"basic-btn-icon\" width=\"18\" height=\"18\">\n//                   <use href=\"./images/icons.svg#icon-basket\"></use>\n//                 </svg>\n//               </button>\n//             </div>\n//           </li>`\n//     )\n//     .join('');\n//   discountListProduct.innerHTML = murcap;\n// }\n\n// renderDiscountProducts(parsedSettings);\n\n//-----------------------------------------------------------PAGINATION----------------------------------------//\n// const numberOfPage = document.querySelector('.pages-list');\nfunction renderNumberSlider(numberpages) {\n  let pagNum = [];\n  for (let index = 1; index <= numberpages; index++) {\n    pagNum.push(index);\n  }\n  if (numberpages <= 5) {\n    const murcap = pagNum\n      .map(item => `<li class=\"pages-item\">${item}</li>`)\n      .join('');\n    console.log(murcap);\n\n    numberOfPage.innerHTML = murcap;\n  } else if (numberpages > 5) {\n    if (pageOfRender <= 2 || pageOfRender > numberpages - 2) {\n      const numToDel = numberpages - 4;\n      pagNum.splice(2, numToDel, '<li class=\"pages-item-points\">...</li>');\n      const murcap = pagNum\n        .map(item => `<li class=\"pages-item\">${item}</li>`)\n        .join('');\n      // console.log(murcap);\n      numberOfPage.innerHTML = murcap;\n    } else if (pageOfRender > 2) {\n      const numToDel = numberpages - 2;\n      // const murcapIncide = `${pageOfRender - 1},${pageOfRender},${\n      //   pageOfRender + 1\n      // },`;\n      pagNum.splice(\n        1,\n        numToDel,\n        '...',\n\n        pageOfRender,\n\n        '...'\n      );\n      const murcap = pagNum\n        .map(item => `<li class=\"pages-item\">${item}</li>`)\n        .join('');\n      numberOfPage.innerHTML = murcap;\n    }\n  }\n\n  //disabling buttons when on 1st and last page\n  if (pageOfRender === 1) {\n    pagesBtnLeft.setAttribute('disabled', 'true');\n  } else if (pageOfRender === numberpages) {\n    pagesBtnRight.setAttribute('disabled', 'true');\n  } else {\n    pagesBtnLeft.removeAttribute('disabled');\n    pagesBtnRight.removeAttribute('disabled');\n  }\n\n  console.log(numberOfPage.children);\n\n  for (let i = 0; i < numberOfPage.children.length; i++) {\n    if (numberOfPage.children[i].textContent == pageOfRender) {\n      numberOfPage.children[i].classList.add('current-pages-item');\n    } else {\n      numberOfPage.children[i].classList.remove('current-pages-item');\n    }\n  }\n  // console.log(pagNum);\n}\n// renderNumberSlider(totalPages);\n\n//----------------------------------------------EXPORT------------------------------------------------------\n// export { renderMainCards, renderPopularProducts, renderDiscountProducts };\nexport { renderNumberSlider };\n","import { renderNumberSlider } from './serhii.js';\nimport axios from 'axios';\n\nlet totalPages = null;\nlet currentPageNumber = 1;\naxios.defaults.baseURL = 'https://food-boutique.b.goit.study/api';\n\nconst endPoints = {\n  basic: '/products',\n  popular: '/products/popular',\n  discount: '/products/discount',\n  categories: '/products/categories',\n};\nconst storageKeys = {\n  totalPages: 'totalPages',\n  basic: 'basic-wrapper',\n  popular: 'popular-wrapper',\n  discount: 'discount-wrapper',\n  categories: 'categories',\n  axiosOptions: 'axiosOptions',\n};\nconst refs = {\n  basicList: document.querySelector('.basic-list'),\n  popularList: document.querySelector('.popular-list'),\n  discountList: document.querySelector('.discount-list'),\n  categoriesSelector: document.querySelector('#categories'),\n};\n\n// ===============================================================================================================\n\nsetDefaultAxiosOptions();\ngetCategories();\ngetBasicProducts();\ngetPopularProducts();\ngetDiscountProducts();\n\n// ===============================================================================================================\n\nfunction setDefaultAxiosOptions() {\n  localStorage.setItem(\n    'axiosOptions',\n    JSON.stringify({\n      keyword: null,\n      category: null,\n      byABC: null,\n      byPrice: null,\n      byPopularity: null,\n      page: 1,\n      limit: getLimit(),\n    })\n  );\n}\n\nfunction getLimit() {\n  const wIw = window.innerWidth;\n  if (wIw < 768) return 6;\n  if (wIw >= 768 && wIw < 1440) return 8;\n  return 9;\n}\n\n//---------------------------------------------------------------------------------------------------------------------\n\nasync function getCategories() {\n  try {\n    const response = await axios.get(endPoints.categories);\n    setCategories(response.data);\n    renderCategories();\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction setCategories(data) {\n  localStorage.setItem(storageKeys.categories, JSON.stringify(data));\n}\n\nfunction renderCategories() {\n  const stringsArray = JSON.parse(localStorage.getItem(storageKeys.categories));\n  refs.categoriesSelector.innerHTML =\n    `<option disabled selected hidden>Categories</option>` +\n    stringsArray\n      .map(str => `<option value=\"${str}\">${str.replaceAll('_', ' ')}</option>`)\n      .join('') +\n    `<option value=\"null\">Show all</option>`;\n}\n\n//---------------------------------------------------------------------------------------------------------------------\n\nasync function getBasicProducts() {\n  try {\n    const resp = await axios.get(endPoints.basic, {\n      params: getAxiosOptions(),\n    });\n    currentPageNumber = resp.data.page;\n    totalPages = resp.data.totalPages;\n    localStorage.setItem(storageKeys.basic, JSON.stringify(resp.data.results));\n    localStorage.setItem(storageKeys.totalPages, JSON.stringify(totalPages));\n    renderBasicProducts();\n    renderNumberSlider(totalPages);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction renderBasicProducts() {\n  const objsArray = JSON.parse(localStorage.getItem(storageKeys.basic));\n  refs.basicList.innerHTML = objsArray\n    .map(\n      obj => `<li class=\"basic-item\" id=\"${obj._id}\">\n            <div class=\"basic-image-wrapper\">\n              <img\n                src=\"${obj.img}\"\n                alt=\"${obj.name}\"\n              />\n            </div>\n            <h3 class=\"basic-name\">${obj.name}</h3>\n            <div class=\"basic-info-wrapper\">\n              <p class=\"basic-info\">\n                Category:<span class=\"category\">${obj.category}</span>Size:<span\n                  class=\"size\"\n                  >${obj.size}</span\n                >\n              </p>\n              <p class=\"basic-info\">\n                Popularity:<span class=\"popularity\">${obj.popularity}</span>\n              </p>\n            </div>\n            <div class=\"basic-last-info\">\n              <span class=\"basic-price\">$${obj.price}</span>\n              <button class=\"basic-btn\" type=\"button\" id=\"${obj._id}\">\n                <svg class=\"basic-btn-icon\" width=\"18\" height=\"18\">\n                  <use href=\"./images/icons.svg#icon-basket\"></use>\n                </svg>\n              </button>\n            </div>\n          </li>`\n    )\n    .join('');\n}\n\n//---------------------------------------------------------------------------------------------------------------------\n\nasync function getPopularProducts() {\n  try {\n    const response = await axios.get(endPoints.popular);\n    localStorage.setItem(storageKeys.popular, JSON.stringify(response.data));\n    renderPopularProducts();\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction renderPopularProducts() {\n  const objsArray = JSON.parse(localStorage.getItem(storageKeys.popular));\n  refs.popularList.innerHTML = objsArray\n    .map(\n      obj => ` <li class=\"popular-item\" id=\"${obj._id}\">\n            <div class=\"popular-image-wrapper\">\n              <img src=\"${obj.img}\" alt=\"${obj.name}\" />\n            </div>\n            <div class=\"popular-info-wrapper\">\n              <div class=\"popular-name-wrapper\">\n                <h3 class=\"popular-name\">${obj.name}</h3>\n                <button class=\"popular-item-btn\" type=\"button\" aria-label=\"add to basket\" id=\"${obj._id}\">\n                  <svg class=\"popular-item-btn-icon\" width=\"12\" height=\"12\">\n                    <use href=\"./images/icons.svg#icon-basket\"></use>\n                  </svg>\n                </button>\n              </div>\n              <p class=\"popular-info\">\n                Category:<span class=\"category\">${obj.category}</span>\n              </p>\n              <p class=\"popular-info\">\n                Size:<span class=\"size\">${obj.size}</span>Popularity:<span class=\"popularity\">${obj.popularity}</span>\n              </p>\n            </div>\n          </li>`\n    )\n    .join('');\n}\n\n//---------------------------------------------------------------------------------------------------------------------\n\nasync function getDiscountProducts() {\n  try {\n    const response = await axios.get(endPoints.discount);\n    localStorage.setItem(storageKeys.discount, JSON.stringify(response.data));\n    renderDiscountProducts();\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction renderDiscountProducts() {\n  const objsArray = JSON.parse(localStorage.getItem(storageKeys.discount));\n  let arrTwo = objsArray.slice(0, 2);\n  refs.discountList.innerHTML = arrTwo\n    .map(\n      obj => `<li class=\"discount-item\" id=\"${obj._id}\">\n            <div class=\"discount-label\"> \n            <img src=\"./images/discount.jpg\" alt=\"discount label\" class=\"discount-img\">             \n            </div>\n            <div class=\"discount-image-wrapper\">\n              <img src=\"${obj.img}\" alt=\"${obj.name}\" />\n            </div>\n            <div class=\"discount-info-wrapper\">\n              <h3 class=\"discount-item-name\">${obj.name}</h3>\n              <span class=\"discount-item-price\">$${obj.price}</span>\n              <button class=\"basic-btn\" type=\"button\" aria-label=\"icon-basket\" id=\"${obj._id}\">\n                <svg class=\"basic-btn-icon\" width=\"18\" height=\"18\">\n                  <use href=\"./images/icons.svg#icon-basket\"></use>\n                </svg>\n              </button>\n            </div>\n          </li>`\n    )\n    .join('');\n}\n\n//---------------------------------------------------------------------------------------------------------------------\n\nfunction getAxiosOptions() {\n  return JSON.parse(localStorage.getItem(storageKeys.axiosOptions));\n}\n\n//---------------------------------------------------------------------------------------------------------------------\n\nexport { getBasicProducts, getLimit };\n","import axios from 'axios';\n\nconst modal = document.querySelector('.backdrop');\nconst modalWindow = document.querySelector('.modal_window');\nconst productList = document.querySelector('.basic-list');\nconst popularList = document.querySelector('.popular-list');\nconst discountList = document.querySelector('.discount-list');\n\nasync function responseById(id) {\n  try {\n    const response = await axios.get(\n      `https://food-boutique.b.goit.study/api/products/${id}`\n    );\n\n    // Записати дані в локальне сховище\n    // localStorage.setItem(\n    //   'productsById',\n    //   JSON.stringify(response.data.results)\n    // );\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n\nproductList.addEventListener('click', handleItemClick);\npopularList.addEventListener('click', handleItemClick);\ndiscountList.addEventListener('click', handleItemClick);\nproductList.addEventListener('click', onclickAddOne);\npopularList.addEventListener('click', onclickAddOne);\ndiscountList.addEventListener('click', onclickAddOne);\n\nasync function onclickAddOne(event) {\n  if (!event.target.closest('.basic-btn, .popular-item-btn')) {\n    return;\n  }\n  const clickedProduct =\n    event.target.closest('.basic-item') ||\n    event.target.closest('.popular-item') ||\n    event.target.closest('.discount-item');\n  if (!clickedProduct) return;\n  const productId = clickedProduct.id;\n  console.log(productId);\n\n  try {\n    const product = await getProductById(productId);\n\n    if (product) {\n      const cartItems = JSON.parse(localStorage.getItem('BASKET')) || [];\n\n      const isProductInCart = cartItems.some(item => item._id === product._id);\n\n      if (!isProductInCart) {\n        cartItems.push(product);\n\n        localStorage.setItem('BASKET', JSON.stringify(cartItems));\n        console.log('product added to basket', product);\n        console.log(cartItems);\n        const cartImg = clickedProduct.querySelector(\n          '.basic-btn-icon, .popular-item-btn-icon'\n        );\n\n        const checkImg = clickedProduct.querySelector('.checked-btn-icon');\n        const addButton = clickedProduct.querySelector(\n          '.basic-btn, .popular-item-btn'\n        );\n        cartImg.style.display = 'none';\n        checkImg.style.display = 'block';\n        addButton.style.backgroundColor = 'var(--primary-brand-color)';\n        addButton.disabled = true;\n        addButton.removeEventListener('click', onclickAddOne);\n      } else {\n        console.log('Product is already in the basket');\n      }\n    } else {\n      console.error('Unable to find product with ID', productId);\n    }\n  } catch (error) {\n    console.error('Error fetching product by ID', error);\n  }\n}\n\nasync function getProductById(productId) {\n  try {\n    const productData = await responseById(productId);\n\n    if (productData) {\n      const product = {\n        _id: productData._id,\n        name: productData.name,\n        category: productData.category,\n        size: productData.size,\n        img: productData.img,\n        price: productData.price,\n        is10PercentOff: productData.is10PercentOff,\n      };\n\n      return product;\n    } else {\n      console.error('Unable to find product with ID', productId);\n      return null;\n    }\n  } catch (error) {\n    console.error('Error fetching product by ID', error);\n    throw error;\n  }\n}\n\nasync function handleItemClick(event) {\n  const clickedProduct =\n    event.target.closest('.basic-item') ||\n    event.target.closest('.popular-item') ||\n    event.target.closest('.discount-item');\n  if (!clickedProduct) return;\n\n  const isButtonClicked = event.target.closest('button');\n  if (!isButtonClicked) {\n    const productId = clickedProduct.id;\n    try {\n      const selectedProduct = await responseById(productId);\n      // console.log(selectedProduct);\n\n      if (selectedProduct) {\n        renderModalData(selectedProduct);\n\n        modal.style.display = 'block';\n        modal.addEventListener('click', closeOnOutsideClick);\n        document.addEventListener('keydown', closeOnEsc);\n        const addedButton = document.querySelector('.added_button');\n        const modalAddButton = document.querySelector('.add_button');\n\n        if (selectedProduct) {\n          const cartItems = JSON.parse(localStorage.getItem('BASKET')) || [];\n\n          const isProductInCart = cartItems.some(\n            item => item._id === selectedProduct._id\n          );\n          if (!isProductInCart) {\n            modalAddButton.style.display = 'block';\n            addedButton.style.display = 'none';\n          } else {\n            modalAddButton.style.display = 'none';\n            addedButton.style.display = 'block';\n          }\n        }\n\n        modalAddButton.addEventListener('click', () =>\n          addToBasket(selectedProduct)\n        );\n      }\n\n      async function addToBasket(product) {\n        try {\n          const modalProduct = await getProductById(productId);\n\n          if (modalProduct) {\n            const cartItems = JSON.parse(localStorage.getItem('BASKET')) || [];\n\n            const isProductInCart = cartItems.some(\n              item => item._id === modalProduct._id\n            );\n\n            if (!isProductInCart) {\n              cartItems.push(product);\n\n              localStorage.setItem('BASKET', JSON.stringify(cartItems));\n              console.log('product added to basket', product);\n              console.log(cartItems);\n              const addedButton = document.querySelector('.added_button');\n              const addButton = document.querySelector('.add_button');\n              if (addButton) {\n                addButton.style.display = 'none';\n                addedButton.style.display = 'block';\n              }\n            } else {\n              console.log('Product is already in the basket');\n            }\n          } else {\n            console.error('Unable to find product with ID', productId);\n          }\n        } catch (error) {\n          console.error('Error fetching product by ID', error);\n        }\n      }\n\n      const closeModalButton = document.querySelector('.close_button');\n      closeModalButton.addEventListener('click', closeModal);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n\nfunction renderModalData(product) {\n  const markup = `<button class=\"close_button\" type=\"button\" aria-label=\"Close\">\n      <svg class=\"close-btn-icon\" width=\"24\" height=\"24\">\n        <use href=\"./images/icons.svg#icon-close\"></use>\n      </svg>\n    </button>\n    <div class=\"item_image\">\n    <img src=\"${product.img}\" alt=\"${product.name}\" /></div>\n    <div class=\"item_description\">\n      <h2 class=\"item_name\">${product.name}</h2>\n      <ul class=\"product_params\">\n        <li class=\"item_params\">\n          <p>Category: <span class=\"params_type\">${product.category}</span></p>\n        </li>\n        <li class=\"item_params\">\n          <p>Size:  <span class=\"params_type\">${product.size}</span></p>\n        </li>\n        <li class=\"item_params\">\n          <p>Popularity:  <span class=\"params_type\">${product.popularity}</span></p>\n        </li>\n      </ul>\n      <p class=\"description\">${product.desc}</p>\n    </div>\n    <p class=\"item_price\">$${product.price}</p>\n    <button class=\"added_button\" type=\"submit\" aria-label=\"Item added to cart\">\n      Added to\n      <svg width=\"18\" height=\"18\" class=\"icon-cart\">\n        <use href=\"./images/icons.svg#icon-basket\"></use>\n      </svg>\n    </button>\n    <button\n      class=\"add_button\"\n      type=\"submit\"\n      id=\"${product._id}\"\n      aria-label=\"Add item to cart\"\n    >\n      Add to\n      <svg width=\"18\" height=\"18\" class=\"icon-cart\">\n        <use href=\"./images/icons.svg#icon-basket\"></use>\n      </svg>\n    </button>`;\n  modalWindow.innerHTML = markup;\n}\n\nfunction closeOnOutsideClick(event) {\n  if (event.target === modal) {\n    closeModal();\n  }\n}\nfunction closeOnEsc(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction closeModal() {\n  modal.style.display = 'none';\n  modal.removeEventListener('click', closeOnOutsideClick);\n  document.removeEventListener('keydown', closeOnEsc);\n}\n"],"names":["footerSubscriptionForm","onFooterFormSubmit","event","axios","pageOfRender","totalPages","pagesBtnLeft","pagesBtnRight","numberOfPage","onClickLeft","onClickRight","onClickNumber","getBasicProducts","renderNumberSlider","numberpages","pagNum","index","murcap","item","numToDel","i","currentPageNumber","endPoints","storageKeys","refs","setDefaultAxiosOptions","getCategories","getPopularProducts","getDiscountProducts","getLimit","wIw","response","setCategories","renderCategories","error","data","stringsArray","str","resp","getAxiosOptions","renderBasicProducts","objsArray","obj","renderPopularProducts","renderDiscountProducts","arrTwo","modal","modalWindow","productList","popularList","discountList","responseById","id","handleItemClick","onclickAddOne","clickedProduct","productId","product","getProductById","cartItems","cartImg","checkImg","addButton","productData","selectedProduct","renderModalData","closeOnOutsideClick","closeOnEsc","addedButton","modalAddButton","addToBasket","modalProduct","closeModal","markup"],"mappings":"oFAEA,MAAMA,EAAyB,SAAS,cAAc,oBAAoB,EAC1EA,EAAuB,iBAAiB,SAAUC,CAAkB,EAEpE,SAASA,EAAmBC,EAAO,CACjCA,EAAM,eAAc,EACpB,QAAQ,IAAIF,EAAuB,SAAS,GAAG,KAAK,EAEpDG,EAAM,KAAK,sDAAuD,CAChE,MAAOH,EAAuB,SAAS,GAAG,KAC9C,CAAG,CACH,CCkBA,IAAII,EAAe,EAEfC,EAAa,GAEjB,MAAMC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAgB,SAAS,cAAc,kBAAkB,EACzDC,EAAe,SAAS,cAAc,aAAa,EACzDF,EAAa,iBAAiB,QAASG,CAAW,EAClDF,EAAc,iBAAiB,QAASG,CAAY,EACpDF,EAAa,iBAAiB,QAASG,CAAa,EAEpD,SAASF,EAAYP,EAAO,CACtBE,IAAiB,IAGrBA,IAGAQ,IACF,CACA,SAASF,EAAaR,EAAO,CACvBE,GAAgBC,IAGpBD,IAGAQ,IACF,CACA,SAASD,EAAcT,EAAO,CAC5BE,EAAe,OAAOF,EAAM,OAAO,WAAW,EACzCE,GAKLQ,GACF,CAuKA,SAASC,EAAmBC,EAAa,CACvC,IAAIC,EAAS,CAAA,EACb,QAASC,EAAQ,EAAGA,GAASF,EAAaE,IACxCD,EAAO,KAAKC,CAAK,EAEnB,GAAIF,GAAe,EAAG,CACpB,MAAMG,EAASF,EACZ,IAAIG,GAAQ,0BAA0BA,QAAW,EACjD,KAAK,EAAE,EACV,QAAQ,IAAID,CAAM,EAElBT,EAAa,UAAYS,CAC7B,SAAaH,EAAc,GACvB,GAAIV,GAAgB,GAAKA,EAAeU,EAAc,EAAG,CACvD,MAAMK,EAAWL,EAAc,EAC/BC,EAAO,OAAO,EAAGI,EAAU,wCAAwC,EACnE,MAAMF,EAASF,EACZ,IAAIG,GAAQ,0BAA0BA,QAAW,EACjD,KAAK,EAAE,EAEVV,EAAa,UAAYS,CAC/B,SAAeb,EAAe,EAAG,CAC3B,MAAMe,EAAWL,EAAc,EAI/BC,EAAO,OACL,EACAI,EACA,MAEAf,EAEA,KACR,EACM,MAAMa,EAASF,EACZ,IAAIG,GAAQ,0BAA0BA,QAAW,EACjD,KAAK,EAAE,EACVV,EAAa,UAAYS,CAC1B,EAICb,IAAiB,EACnBE,EAAa,aAAa,WAAY,MAAM,EACnCF,IAAiBU,EAC1BP,EAAc,aAAa,WAAY,MAAM,GAE7CD,EAAa,gBAAgB,UAAU,EACvCC,EAAc,gBAAgB,UAAU,GAG1C,QAAQ,IAAIC,EAAa,QAAQ,EAEjC,QAASY,EAAI,EAAGA,EAAIZ,EAAa,SAAS,OAAQY,IAC5CZ,EAAa,SAASY,GAAG,aAAehB,EAC1CI,EAAa,SAASY,GAAG,UAAU,IAAI,oBAAoB,EAE3DZ,EAAa,SAASY,GAAG,UAAU,OAAO,oBAAoB,CAIpE,CCrSA,IAAIf,EAAa,KACbgB,EAAoB,EACxBlB,EAAM,SAAS,QAAU,yCAEzB,MAAMmB,EAAY,CAChB,MAAO,YACP,QAAS,oBACT,SAAU,qBACV,WAAY,sBACd,EACMC,EAAc,CAClB,WAAY,aACZ,MAAO,gBACP,QAAS,kBACT,SAAU,mBACV,WAAY,aACZ,aAAc,cAChB,EACMC,EAAO,CACX,UAAW,SAAS,cAAc,aAAa,EAC/C,YAAa,SAAS,cAAc,eAAe,EACnD,aAAc,SAAS,cAAc,gBAAgB,EACrD,mBAAoB,SAAS,cAAc,aAAa,CAC1D,EAIAC,IACAC,IACAd,IACAe,IACAC,IAIA,SAASH,GAAyB,CAChC,aAAa,QACX,eACA,KAAK,UAAU,CACb,QAAS,KACT,SAAU,KACV,MAAO,KACP,QAAS,KACT,aAAc,KACd,KAAM,EACN,MAAOI,EAAU,CACvB,CAAK,CACL,CACA,CAEA,SAASA,GAAW,CAClB,MAAMC,EAAM,OAAO,WACnB,OAAIA,EAAM,IAAY,EAClBA,GAAO,KAAOA,EAAM,KAAa,EAC9B,CACT,CAIA,eAAeJ,GAAgB,CAC7B,GAAI,CACF,MAAMK,EAAW,MAAM5B,EAAM,IAAImB,EAAU,UAAU,EACrDU,EAAcD,EAAS,IAAI,EAC3BE,GACD,OAAQC,EAAP,CACA,QAAQ,IAAIA,CAAK,CAClB,CACH,CAEA,SAASF,EAAcG,EAAM,CAC3B,aAAa,QAAQZ,EAAY,WAAY,KAAK,UAAUY,CAAI,CAAC,CACnE,CAEA,SAASF,GAAmB,CAC1B,MAAMG,EAAe,KAAK,MAAM,aAAa,QAAQb,EAAY,UAAU,CAAC,EAC5EC,EAAK,mBAAmB,UACtB,uDACAY,EACG,IAAIC,GAAO,kBAAkBA,MAAQA,EAAI,WAAW,IAAK,GAAG,YAAY,EACxE,KAAK,EAAE,EACV,wCACJ,CAIA,eAAezB,GAAmB,CAChC,GAAI,CACF,MAAM0B,EAAO,MAAMnC,EAAM,IAAImB,EAAU,MAAO,CAC5C,OAAQiB,EAAiB,CAC/B,CAAK,EACDlB,EAAoBiB,EAAK,KAAK,KAC9BjC,EAAaiC,EAAK,KAAK,WACvB,aAAa,QAAQf,EAAY,MAAO,KAAK,UAAUe,EAAK,KAAK,OAAO,CAAC,EACzE,aAAa,QAAQf,EAAY,WAAY,KAAK,UAAUlB,CAAU,CAAC,EACvEmC,IACA3B,EAAmBR,CAAU,CAC9B,OAAQ6B,EAAP,CACA,QAAQ,IAAIA,CAAK,CAClB,CACH,CAEA,SAASM,GAAsB,CAC7B,MAAMC,EAAY,KAAK,MAAM,aAAa,QAAQlB,EAAY,KAAK,CAAC,EACpEC,EAAK,UAAU,UAAYiB,EACxB,IACCC,GAAO,8BAA8BA,EAAI;AAAA;AAAA;AAAA,uBAGxBA,EAAI;AAAA,uBACJA,EAAI;AAAA;AAAA;AAAA,qCAGUA,EAAI;AAAA;AAAA;AAAA,kDAGSA,EAAI;AAAA;AAAA,qBAEjCA,EAAI;AAAA;AAAA;AAAA;AAAA,sDAI6BA,EAAI;AAAA;AAAA;AAAA;AAAA,2CAIfA,EAAI;AAAA,4DACaA,EAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAO3D,EACA,KAAK,EAAE,CACZ,CAIA,eAAef,GAAqB,CAClC,GAAI,CACF,MAAMI,EAAW,MAAM5B,EAAM,IAAImB,EAAU,OAAO,EAClD,aAAa,QAAQC,EAAY,QAAS,KAAK,UAAUQ,EAAS,IAAI,CAAC,EACvEY,GACD,OAAQT,EAAP,CACA,QAAQ,IAAIA,CAAK,CAClB,CACH,CAEA,SAASS,GAAwB,CAC/B,MAAMF,EAAY,KAAK,MAAM,aAAa,QAAQlB,EAAY,OAAO,CAAC,EACtEC,EAAK,YAAY,UAAYiB,EAC1B,IACCC,GAAO,iCAAiCA,EAAI;AAAA;AAAA,0BAExBA,EAAI,aAAaA,EAAI;AAAA;AAAA;AAAA;AAAA,2CAIJA,EAAI;AAAA,gGACiDA,EAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDAOlDA,EAAI;AAAA;AAAA;AAAA,0CAGZA,EAAI,kDAAkDA,EAAI;AAAA;AAAA;AAAA,gBAI/F,EACA,KAAK,EAAE,CACZ,CAIA,eAAed,GAAsB,CACnC,GAAI,CACF,MAAMG,EAAW,MAAM5B,EAAM,IAAImB,EAAU,QAAQ,EACnD,aAAa,QAAQC,EAAY,SAAU,KAAK,UAAUQ,EAAS,IAAI,CAAC,EACxEa,GACD,OAAQV,EAAP,CACA,QAAQ,IAAIA,CAAK,CAClB,CACH,CAEA,SAASU,GAAyB,CAEhC,IAAIC,EADc,KAAK,MAAM,aAAa,QAAQtB,EAAY,QAAQ,CAAC,EAChD,MAAM,EAAG,CAAC,EACjCC,EAAK,aAAa,UAAYqB,EAC3B,IACCH,GAAO,iCAAiCA,EAAI;AAAA;AAAA;AAAA;AAAA;AAAA,0BAKxBA,EAAI,aAAaA,EAAI;AAAA;AAAA;AAAA,+CAGAA,EAAI;AAAA,mDACAA,EAAI;AAAA,qFAC8BA,EAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAOpF,EACA,KAAK,EAAE,CACZ,CAIA,SAASH,GAAkB,CACzB,OAAO,KAAK,MAAM,aAAa,QAAQhB,EAAY,YAAY,CAAC,CAClE,CC7NA,MAAMuB,EAAQ,SAAS,cAAc,WAAW,EAC1CC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAe,SAAS,cAAc,gBAAgB,EAE5D,eAAeC,EAAaC,EAAI,CAC9B,GAAI,CAUF,OATiB,MAAMjD,EAAM,IAC3B,mDAAmDiD,GACzD,GAOoB,IACjB,OAAQlB,EAAP,CACA,cAAQ,MAAMA,CAAK,EACbA,CACP,CACH,CAEAc,EAAY,iBAAiB,QAASK,CAAe,EACrDJ,EAAY,iBAAiB,QAASI,CAAe,EACrDH,EAAa,iBAAiB,QAASG,CAAe,EACtDL,EAAY,iBAAiB,QAASM,CAAa,EACnDL,EAAY,iBAAiB,QAASK,CAAa,EACnDJ,EAAa,iBAAiB,QAASI,CAAa,EAEpD,eAAeA,EAAcpD,EAAO,CAClC,GAAI,CAACA,EAAM,OAAO,QAAQ,+BAA+B,EACvD,OAEF,MAAMqD,EACJrD,EAAM,OAAO,QAAQ,aAAa,GAClCA,EAAM,OAAO,QAAQ,eAAe,GACpCA,EAAM,OAAO,QAAQ,gBAAgB,EACvC,GAAI,CAACqD,EAAgB,OACrB,MAAMC,EAAYD,EAAe,GACjC,QAAQ,IAAIC,CAAS,EAErB,GAAI,CACF,MAAMC,EAAU,MAAMC,EAAeF,CAAS,EAE9C,GAAIC,EAAS,CACX,MAAME,EAAY,KAAK,MAAM,aAAa,QAAQ,QAAQ,CAAC,GAAK,GAIhE,GAFwBA,EAAU,KAAKzC,GAAQA,EAAK,MAAQuC,EAAQ,GAAG,EAsBrE,QAAQ,IAAI,kCAAkC,MApB1B,CACpBE,EAAU,KAAKF,CAAO,EAEtB,aAAa,QAAQ,SAAU,KAAK,UAAUE,CAAS,CAAC,EACxD,QAAQ,IAAI,0BAA2BF,CAAO,EAC9C,QAAQ,IAAIE,CAAS,EACrB,MAAMC,EAAUL,EAAe,cAC7B,yCACV,EAEcM,EAAWN,EAAe,cAAc,mBAAmB,EAC3DO,EAAYP,EAAe,cAC/B,+BACV,EACQK,EAAQ,MAAM,QAAU,OACxBC,EAAS,MAAM,QAAU,QACzBC,EAAU,MAAM,gBAAkB,6BAClCA,EAAU,SAAW,GACrBA,EAAU,oBAAoB,QAASR,CAAa,CAC5D,CAGA,MACM,QAAQ,MAAM,iCAAkCE,CAAS,CAE5D,OAAQtB,EAAP,CACA,QAAQ,MAAM,+BAAgCA,CAAK,CACpD,CACH,CAEA,eAAewB,EAAeF,EAAW,CACvC,GAAI,CACF,MAAMO,EAAc,MAAMZ,EAAaK,CAAS,EAEhD,OAAIO,EACc,CACd,IAAKA,EAAY,IACjB,KAAMA,EAAY,KAClB,SAAUA,EAAY,SACtB,KAAMA,EAAY,KAClB,IAAKA,EAAY,IACjB,MAAOA,EAAY,MACnB,eAAgBA,EAAY,cACpC,GAIM,QAAQ,MAAM,iCAAkCP,CAAS,EAClD,KAEV,OAAQtB,EAAP,CACA,cAAQ,MAAM,+BAAgCA,CAAK,EAC7CA,CACP,CACH,CAEA,eAAemB,EAAgBnD,EAAO,CACpC,MAAMqD,EACJrD,EAAM,OAAO,QAAQ,aAAa,GAClCA,EAAM,OAAO,QAAQ,eAAe,GACpCA,EAAM,OAAO,QAAQ,gBAAgB,EACvC,GAAI,CAACqD,EAAgB,OAGrB,GAAI,CADoBrD,EAAM,OAAO,QAAQ,QAAQ,EAC/B,CACpB,MAAMsD,EAAYD,EAAe,GACjC,GAAI,CACF,MAAMS,EAAkB,MAAMb,EAAaK,CAAS,EAGpD,GAAIQ,EAAiB,CACnBC,GAAgBD,CAAe,EAE/BlB,EAAM,MAAM,QAAU,QACtBA,EAAM,iBAAiB,QAASoB,CAAmB,EACnD,SAAS,iBAAiB,UAAWC,CAAU,EAC/C,MAAMC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAiB,SAAS,cAAc,aAAa,EAEvDL,KACgB,KAAK,MAAM,aAAa,QAAQ,QAAQ,CAAC,GAAK,IAE9B,KAChC9C,GAAQA,EAAK,MAAQ8C,EAAgB,GACjD,GAKYK,EAAe,MAAM,QAAU,OAC/BD,EAAY,MAAM,QAAU,UAJ5BC,EAAe,MAAM,QAAU,QAC/BD,EAAY,MAAM,QAAU,SAOhCC,EAAe,iBAAiB,QAAS,IACvCC,EAAYN,CAAe,CACrC,CACO,CAED,eAAeM,EAAYb,EAAS,CAClC,GAAI,CACF,MAAMc,EAAe,MAAMb,EAAeF,CAAS,EAEnD,GAAIe,EAAc,CAChB,MAAMZ,EAAY,KAAK,MAAM,aAAa,QAAQ,QAAQ,CAAC,GAAK,GAMhE,GAJwBA,EAAU,KAChCzC,GAAQA,EAAK,MAAQqD,EAAa,GAChD,EAec,QAAQ,IAAI,kCAAkC,MAb1B,CACpBZ,EAAU,KAAKF,CAAO,EAEtB,aAAa,QAAQ,SAAU,KAAK,UAAUE,CAAS,CAAC,EACxD,QAAQ,IAAI,0BAA2BF,CAAO,EAC9C,QAAQ,IAAIE,CAAS,EACrB,MAAMS,EAAc,SAAS,cAAc,eAAe,EACpDN,EAAY,SAAS,cAAc,aAAa,EAClDA,IACFA,EAAU,MAAM,QAAU,OAC1BM,EAAY,MAAM,QAAU,QAE5C,CAGA,MACY,QAAQ,MAAM,iCAAkCZ,CAAS,CAE5D,OAAQtB,EAAP,CACA,QAAQ,MAAM,+BAAgCA,CAAK,CACpD,CACF,CAEwB,SAAS,cAAc,eAAe,EAC9C,iBAAiB,QAASsC,CAAU,CACtD,OAAQtC,EAAP,CACA,QAAQ,IAAIA,CAAK,CAClB,CACF,CACH,CAEA,SAAS+B,GAAgBR,EAAS,CAChC,MAAMgB,EAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAMDhB,EAAQ,aAAaA,EAAQ;AAAA;AAAA,8BAEfA,EAAQ;AAAA;AAAA;AAAA,mDAGaA,EAAQ;AAAA;AAAA;AAAA,gDAGXA,EAAQ;AAAA;AAAA;AAAA,sDAGFA,EAAQ;AAAA;AAAA;AAAA,+BAG/BA,EAAQ;AAAA;AAAA,6BAEVA,EAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAUzBA,EAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAQlBV,EAAY,UAAY0B,CAC1B,CAEA,SAASP,EAAoBhE,EAAO,CAC9BA,EAAM,SAAW4C,GACnB0B,GAEJ,CACA,SAASL,EAAWjE,EAAO,CACrBA,EAAM,MAAQ,UAChBsE,GAEJ,CAEA,SAASA,GAAa,CACpB1B,EAAM,MAAM,QAAU,OACtBA,EAAM,oBAAoB,QAASoB,CAAmB,EACtD,SAAS,oBAAoB,UAAWC,CAAU,CACpD"}